#
# Copyright 2014, NICTA
#
# This software may be distributed and modified according to the terms of
# the GNU General Public License version 2. Note that NO WARRANTY is provided.
# See "LICENSE_GPLv2.txt" for details.
#
# @TAG(NICTA_GPL)
#

# FIXME: This Makefile is not meant to be invoked manually because it relies on
#        files generated by a run of isabelle usedir.
# NOTE:  Invoke ``isabelle make -C ../.. abstract'' instead of this Makefile.

LaTeX      = pdflatex -interaction=nonstopmode
BibTeX     = bibtex
Eps2Pdf	   = epstopdf --outfile


all: pdf
pdf: root.pdf

root.pdf: root.tex Makefile
	@echo generating document
	${LaTeX} root; ${BibTeX} root; ${LaTeX} root; ${LaTeX} root; echo ""
	@echo generated/root.pdf

%.pdf: %.eps
	@echo $< '->' $@
	${Eps2Pdf} $@ $<

clean:
	rm -f *.aux *.toc *.bbl *.blg *.dvi *.log *.pstex* *.brf \
		*.out .log

realclean: clean
	rm -f root.pdf
